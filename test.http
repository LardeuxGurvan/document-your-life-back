@endpoint = http://localhost:{{$dotenv PORT}}

####################################################
#                       Valid
####################################################

### signup
POST {{ endpoint }}/signup
Content-Type: application/json

{
    "email": "bonjours@tata.com",
    "first_name": "toto",
    "last_name": "tata",
    "password": "TotoTata!123",
    "passwordConfirm": "TotoTata!123"
}


### profil
GET {{ endpoint }}/user/2/profil
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZW1haWwiOiJib25qb3Vyc0B0YXRhLmNvbSIsImZpcnN0X25hbWUiOiJ0b3RvIiwibGFzdF9uYW1lIjoidGF0YSIsInBhc3N3b3JkIjoiJDJiJDEwJHdsZkNzdGRvTndXR3UuTjBnRExRVHVmdUhJcHBQRS94UHVhVHRCUFczZ0hQb0Y4NE1BQXlpIiwiaW1hZ2UiOm51bGwsImNyZWF0ZWRfYXQiOiIyMDIyLTAzLTAzVDEwOjAyOjE3LjU2MFoiLCJ1cGRhdGVkX2F0IjpudWxsLCJpYXQiOjE2NDYzMDE3NDMsImV4cCI6MTY0NjMwMzU0M30.uMDjq2YcWiRIFrBEPskay7RDmcW7xto16J_N4naWDCk

### utilisateur
POST {{ endpoint }}/login
Content-Type: application/json

{
    "email": "bonjours@tata.com",
    "password": "TotoTata!123"
}

### utilisateur logout 
POST {{ endpoint }}/logout


### refresh token route

### utilisateur
POST {{ endpoint }}/api/refreshtoken
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZW1haWwiOiJib25qb3Vyc0B0YXRhLmNvbSIsImZpcnN0X25hbWUiOiJ0b3RvIiwibGFzdF9uYW1lIjoidGF0YSIsInBhc3N3b3JkIjoiJDJiJDEwJHdsZkNzdGRvTndXR3UuTjBnRExRVHVmdUhJcHBQRS94UHVhVHRCUFczZ0hQb0Y4NE1BQXlpIiwiaW1hZ2UiOm51bGwsImNyZWF0ZWRfYXQiOiIyMDIyLTAzLTAzVDEwOjAyOjE3LjU2MFoiLCJ1cGRhdGVkX2F0IjpudWxsLCJpYXQiOjE2NDYzMDE3NDMsImV4cCI6MTY0NjMwMzU0M30.uMDjq2YcWiRIFrBEPskay7RDmcW7xto16J_N4naWDCk

### create card
POST {{ endpoint }}/user/3/cards/today
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZW1haWwiOiJib25qb3Vyc0B0YXRhLmNvbSIsImZpcnN0X25hbWUiOiJ0b3RvIiwibGFzdF9uYW1lIjoidGF0YSIsInBhc3N3b3JkIjoiJDJiJDEwJHdsZkNzdGRvTndXR3UuTjBnRExRVHVmdUhJcHBQRS94UHVhVHRCUFczZ0hQb0Y4NE1BQXlpIiwiaW1hZ2UiOm51bGwsImNyZWF0ZWRfYXQiOiIyMDIyLTAzLTAzVDEwOjAyOjE3LjU2MFoiLCJ1cGRhdGVkX2F0IjpudWxsLCJpYXQiOjE2NDYzMDE3NDMsImV4cCI6MTY0NjMwMzU0M30.uMDjq2YcWiRIFrBEPskay7RDmcW7xto16J_N4naWDCk
Content-Type: application/json

{
    "text": "carte teste 3",
    "moodLabel": "happy"
}

### update card
PATCH {{ endpoint }}/user/3/cards/today
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZW1haWwiOiJib25qb3Vyc0B0YXRhLmNvbSIsImZpcnN0X25hbWUiOiJ0b3RvIiwibGFzdF9uYW1lIjoidGF0YSIsInBhc3N3b3JkIjoiJDJiJDEwJHdsZkNzdGRvTndXR3UuTjBnRExRVHVmdUhJcHBQRS94UHVhVHRCUFczZ0hQb0Y4NE1BQXlpIiwiaW1hZ2UiOm51bGwsImNyZWF0ZWRfYXQiOiIyMDIyLTAzLTAzVDEwOjAyOjE3LjU2MFoiLCJ1cGRhdGVkX2F0IjpudWxsLCJpYXQiOjE2NDYzMDE3NDMsImV4cCI6MTY0NjMwMzU0M30.uMDjq2YcWiRIFrBEPskay7RDmcW7xto16J_N4naWDCk
Content-Type: application/json

{
    "text": "Bonjour"
}

### find card
GET {{ endpoint }}/user/1/cards/2
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJib25qb3VyQHRhdGEuY29tIiwiZmlyc3RfbmFtZSI6InRvdG8iLCJsYXN0X25hbWUiOiJ0YXRhIiwicGFzc3dvcmQiOiIkMmIkMTAkRnRXdDJUWU04SXRvVVg5THE2QjRSZTc2QkZSZW1Hc0MvbURqRlJZVDNaOXh5cDIwTmwzc2kiLCJpbWFnZSI6bnVsbCwiY3JlYXRlZF9hdCI6IjIwMjItMDMtMDJUMTM6NTQ6MTguNjUzWiIsInVwZGF0ZWRfYXQiOm51bGwsImlhdCI6MTY0NjIyOTI2NywiZXhwIjoxNjQ2MjMxMDY3fQ.SpucK1J-oIYkPSBIZ92FUhxcG5y8E-7VEzVv8WCa_Qw

####################################################
#                       Errors
####################################################

### Already exists
POST http://localhost:3000/signup
Content-Type: application/json

{
    "email": "toto@tata.com",
    "first_name": "toto",
    "last_name": "tata",
    "password": "TotoTata!123",
    "passwordConfirm": "TotoTata!123"
}

### Error props
POST http://localhost:3000/signup
Content-Type: application/json

{
    "emai": "toto@tata.com",
    "first_name": "toto",
    "last_name": "tata",
    "password": "TotoTata!123",
    "passwordConfirm": "TotoTata!123"
}

### 404
GET {{ endpoint }}/user/2/profi